<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ASKIMSPORT — Твій тренер, твій результат</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    :root {
      --primary-color: #000000;
      --primary-dark: #1a1a1a;
      --secondary-color: #ff6b35;
      --accent-color: #ff8c42;
      --text-primary: #000000;
      --text-secondary: #666666;
      --text-light: #999999;
      --bg-primary: #ffffff;
      --bg-secondary: #f8f9fa;
      --bg-dark: #000000;
      --border-color: #e5e5e5;
      --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: var(--text-primary);
      background-color: var(--bg-primary);
      overflow-x: hidden;
    }

    /* Navigation */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border-color);
      z-index: 1000;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-sm);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--primary-color);
      text-decoration: none;
      transition: all 0.3s ease;
      letter-spacing: -0.5px;
    }

    .logo:hover {
      color: var(--secondary-color);
      transform: scale(1.05);
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 2.5rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-primary);
      font-weight: 500;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      position: relative;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .nav-links a:hover {
      color: var(--secondary-color);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--secondary-color);
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
      color: white;
      padding: 8rem 2rem 6rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('https://images.unsplash.com/photo-1598970434795-0c54fe7c0642?crop=entropy&cs=tinysrgb&fit=crop&h=800&w=1600') center/cover no-repeat;
      opacity: 0.15;
      z-index: 1;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      margin: 0 auto;
      animation: fadeInUp 1s ease-out;
    }

    .hero h1 {
      font-size: clamp(2.5rem, 5vw, 4.5rem);
      font-weight: 800;
      margin-bottom: 1.5rem;
      line-height: 1.1;
      letter-spacing: -1px;
    }

    .hero .subtitle {
      font-size: clamp(1.2rem, 2.5vw, 1.8rem);
      margin-bottom: 2rem;
      opacity: 0.9;
      font-weight: 400;
      color: #f0f0f0;
    }

    .hero .description {
      font-size: 1.1rem;
      margin-bottom: 3rem;
      opacity: 0.8;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.7;
    }

    /* Buttons */
    .btn {
      display: inline-block;
      padding: 1.2rem 2.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1rem;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-primary {
      background: var(--secondary-color);
      color: white;
      box-shadow: var(--shadow-lg);
    }

    .btn-primary:hover {
      background: var(--accent-color);
      transform: translateY(-3px);
      box-shadow: var(--shadow-xl);
    }

    .btn-secondary {
      background: transparent;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
    }

    .btn-secondary:hover {
      background: var(--primary-color);
      color: white;
      transform: translateY(-2px);
    }

    /* Problem Section */
    .problem-section {
      padding: 6rem 2rem;
      background: var(--bg-secondary);
      position: relative;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .section-title {
      font-size: clamp(2rem, 4vw, 3.5rem);
      font-weight: 800;
      color: var(--text-primary);
      margin-bottom: 1rem;
      letter-spacing: -0.5px;
    }

    .section-subtitle {
      font-size: 1.2rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .problem-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .problem-card {
      background: white;
      padding: 2.5rem;
      border-radius: 12px;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
      text-align: left;
    }

    .problem-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: var(--secondary-color);
    }

    .problem-icon {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      font-size: 2.5rem;
      color: white;
    }

    .problem-icon .material-icons {
      font-size: 2.5rem;
      color: white;
    }

    .problem-card h3 {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .problem-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 1rem;
    }

    /* Solution Section */
    .solution-section {
      padding: 6rem 2rem;
      background: white;
    }

    .solution-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
    }

    .solution-text h2 {
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 800;
      margin-bottom: 1.5rem;
      color: var(--text-primary);
      letter-spacing: -0.5px;
    }

    .solution-text p {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
      line-height: 1.7;
    }

    .solution-image {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-xl);
    }

    .solution-image img {
      width: 100%;
      height: 400px;
      object-fit: cover;
      object-position: top;
    }

    /* Process Section */
    .process-section {
      padding: 6rem 2rem;
      background: var(--bg-secondary);
    }

    .process-steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .step {
      background: white;
      padding: 3rem 2rem;
      border-radius: 12px;
      box-shadow: var(--shadow-md);
      text-align: center;
      position: relative;
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
    }

    .step:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: var(--secondary-color);
    }

    .step-number {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      font-weight: 800;
      margin: 0 auto 1.5rem;
    }

    .step h3 {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .step p {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 1rem;
    }

    /* Testimonials */
    .testimonials-section {
      padding: 6rem 2rem;
      background: white;
    }

    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .testimonial {
      background: var(--bg-secondary);
      padding: 2.5rem;
      border-radius: 12px;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
    }

    .testimonial:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
      border-color: var(--secondary-color);
    }

    .testimonial-text {
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--text-primary);
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    .testimonial-author {
      font-weight: 700;
      color: var(--secondary-color);
      font-size: 1rem;
    }

    /* CTA Section */
    .cta-section {
      padding: 6rem 2rem;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
      color: white;
      text-align: center;
    }

    .cta-content h2 {
      font-size: clamp(2rem, 4vw, 3.5rem);
      font-weight: 800;
      margin-bottom: 1.5rem;
      letter-spacing: -0.5px;
    }

    .cta-content p {
      font-size: 1.2rem;
      margin-bottom: 2.5rem;
      opacity: 0.9;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.6;
    }

    /* Footer */
    .footer {
      background: var(--bg-dark);
      color: white;
      padding: 3rem 2rem 2rem;
      text-align: center;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer p {
      margin-bottom: 1rem;
      opacity: 0.8;
      font-size: 0.95rem;
    }

    .footer a {
      color: var(--secondary-color);
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .footer a:hover {
      color: var(--accent-color);
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-on-scroll {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease;
    }

    .animate-on-scroll.animated {
      opacity: 1;
      transform: translateY(0);
    }

    /* Mobile Navigation */
    .mobile-menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--text-primary);
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 4px;
      transition: all 0.3s ease;
    }

    .mobile-menu-toggle:hover {
      background: var(--bg-secondary);
      color: var(--secondary-color);
    }

    .mobile-menu-toggle.active {
      color: var(--secondary-color);
    }

    .nav-links.mobile-open {
      display: flex !important;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      flex-direction: column;
      padding: 1rem 2rem;
      box-shadow: var(--shadow-lg);
      border-top: 1px solid var(--border-color);
      z-index: 1001;
    }

    .nav-links.mobile-open li {
      margin: 0.5rem 0;
    }

    .nav-links.mobile-open a {
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border-color);
      width: 100%;
      text-align: left;
    }

    .nav-links.mobile-open a:last-child {
      border-bottom: none;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }

      .mobile-menu-toggle {
        display: block;
      }

      .nav-container {
        position: relative;
      }

      .nav-links.mobile-open {
        display: flex !important;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        flex-direction: column;
        padding: 1rem 2rem;
        box-shadow: var(--shadow-lg);
        border-top: 1px solid var(--border-color);
        z-index: 1001;
        animation: slideDown 0.3s ease-out;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .hero {
        padding: 6rem 1rem 4rem;
      }

      .solution-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .solution-image {
        order: -1;
      }

      .section-header {
        margin-bottom: 2rem;
      }

      .problem-grid,
      .process-steps,
      .testimonials-grid {
        grid-template-columns: 1fr;
      }

      .container {
        padding: 0 1rem;
      }

      .btn {
        padding: 1rem 2rem;
        font-size: 0.95rem;
      }

      .nav-container {
        padding: 1rem;
      }
    }

    @media (max-width: 480px) {
      .hero h1 {
        font-size: 2.2rem;
      }

      .hero .subtitle {
        font-size: 1.1rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .problem-card,
      .step,
      .testimonial {
        padding: 2rem;
      }
    }

    /* Scroll progress indicator */
    .scroll-indicator {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--border-color);
      z-index: 1001;
    }

    .scroll-progress {
      height: 100%;
      background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
      width: 0%;
      transition: width 0.1s ease;
    }

    /* Chatbot Styles */
    .chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      font-family: 'Inter', sans-serif;
    }

    .chatbot-toggle {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
      transition: all 0.3s ease;
      position: relative;
    }

    .chatbot-toggle:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-xl);
    }

    .chatbot-toggle::before {
      content: 'chat';
      font-family: 'Material Icons';
      font-size: 28px;
    }

    .chatbot-window {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 350px;
      height: 500px;
      background: white;
      border-radius: 12px;
      box-shadow: var(--shadow-xl);
      border: 1px solid var(--border-color);
      display: none;
      flex-direction: column;
      overflow: hidden;
    }

    .chatbot-window.open {
      display: flex;
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .chatbot-header {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chatbot-title {
      font-weight: 700;
      font-size: 1.1rem;
    }

    .chatbot-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background 0.3s ease;
    }

    .chatbot-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .chatbot-messages {
      flex: 1;
      padding: 1rem;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .message {
      max-width: 80%;
      padding: 0.75rem 1rem;
      border-radius: 12px;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .message.user {
      background: var(--secondary-color);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .message.bot {
      background: var(--bg-secondary);
      color: var(--text-primary);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
    }

    .message.typing {
      background: var(--bg-secondary);
      color: var(--text-secondary);
      align-self: flex-start;
      font-style: italic;
    }

    .chatbot-input-container {
      padding: 1rem;
      border-top: 1px solid var(--border-color);
      display: flex;
      gap: 0.5rem;
    }

    .chatbot-input {
      flex: 1;
      padding: 0.75rem;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      font-size: 0.9rem;
      outline: none;
      transition: border-color 0.3s ease;
    }

    .chatbot-input:focus {
      border-color: var(--secondary-color);
    }

    .chatbot-send {
      background: var(--secondary-color);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .chatbot-send:hover {
      background: var(--accent-color);
    }

    .chatbot-send:disabled {
      background: var(--text-light);
      cursor: not-allowed;
    }

    /* Mobile responsive */
    @media (max-width: 480px) {
      .chatbot-window {
        width: calc(100vw - 40px);
        height: 400px;
        right: -10px;
      }
      
      .chatbot-container {
        bottom: 15px;
        right: 15px;
      }
    }

    /* Calculators Section */
    .calculators-section {
      padding: 6rem 2rem;
      background: var(--bg-secondary);
    }

    .calculators-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .calculator-card {
      background: white;
      padding: 2.5rem;
      border-radius: 12px;
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
      text-align: center;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .calculator-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: var(--secondary-color);
    }

    .calculator-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 107, 53, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .calculator-card:hover::before {
      left: 100%;
    }

    .calculator-icon {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      font-size: 2rem;
      color: white;
      box-shadow: var(--shadow-md);
    }

    .calculator-icon .material-icons {
      font-size: 2.5rem;
      color: white;
    }

    .calculator-card h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }

    .calculator-card p {
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 2rem;
      font-size: 1rem;
    }

    .calculator-btn {
      background: var(--secondary-color);
      color: white;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      transition: all 0.3s ease;
      display: inline-block;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .calculator-card:hover .calculator-btn {
      background: var(--accent-color);
      transform: scale(1.05);
    }

    /* Calculator Modal */
    .calculator-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      backdrop-filter: blur(5px);
    }

    .calculator-modal.open {
      display: flex;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .calculator-popup {
      background: white;
      border-radius: 16px;
      padding: 2.5rem;
      max-width: 800px;
      width: 30%;
      min-width: 500px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--shadow-xl);
      position: relative;
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .calculator-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--border-color);
    }

    .calculator-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .calculator-close {
      background: none;
      border: none;
      font-size: 2rem;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 0;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .calculator-close:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }

    .calculator-form {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group label {
      font-weight: 600;
      color: var(--text-primary);
      font-size: 1rem;
    }

    .form-group input,
    .form-group select {
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
      background: white;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--secondary-color);
    }

    .calculate-btn {
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 1.2rem 2rem;
      border-radius: 8px;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 1rem;
    }

    .calculate-btn:hover {
      background: var(--accent-color);
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .calculator-result {
      background: var(--bg-secondary);
      padding: 2rem;
      border-radius: 12px;
      margin-top: 2rem;
      border-left: 4px solid var(--secondary-color);
      display: none;
    }

    .calculator-result.show {
      display: block;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .result-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--secondary-color);
      margin-bottom: 1rem;
    }

    .result-value {
      font-size: 2rem;
      font-weight: 800;
      color: var(--text-primary);
      margin-bottom: 1rem;
    }

    .result-description {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 1rem;
    }

    .result-tips {
      background: white;
      padding: 1.5rem;
      border-radius: 8px;
      margin-top: 1rem;
      border: 1px solid var(--border-color);
    }

    .result-tips h4 {
      color: var(--text-primary);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .result-tips ul {
      margin: 0;
      padding-left: 1.5rem;
    }

    .result-tips li {
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
      line-height: 1.5;
    }

    /* Mobile responsive for calculators */
    @media (max-width: 768px) {
      .calculators-grid {
        grid-template-columns: 1fr;
      }

      .calculator-popup {
        width: 95%;
        min-width: unset;
        max-width: 95%;
        padding: 2rem;
        margin: 1rem;
      }

      .calculator-title {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Scroll Progress Indicator -->
  <div class="scroll-indicator">
    <div class="scroll-progress" id="scrollProgress"></div>
  </div>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo">ASKIMSPORT</a>
      <ul class="nav-links">
        <li><a href="#problem">Проблема</a></li>
        <li><a href="#solution">Рішення</a></li>
        <li><a href="#process">Процес</a></li>
        <li><a href="#testimonials">Відгуки</a></li>
        <li><a href="#calculators">Калькулятори</a></li>
        <li><a href="#contact">Контакти</a></li>
      </ul>
      <button class="mobile-menu-toggle">☰</button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>ASKIMSPORT</h1>
      <p class="subtitle">Тіло без марафонів та дієт</p>
      <p class="description">Справжній результат для справжніх людей. Простий, ефективний підхід до фітнесу, який підходить для зайнятих людей.</p>
      <a href="https://www.instagram.com/askimsport/" class="btn btn-primary">Записатись на консультацію</a>
    </div>
  </section>

  <!-- Problem Section -->
  <section class="problem-section" id="problem">
    <div class="container">
      <div class="section-header animate-on-scroll">
        <h2 class="section-title">Чи боретеся ви з цими проблемами?</h2>
        <p class="section-subtitle">Більшість програм тренувань створюють більше проблем, ніж вирішують</p>
      </div>
      <div class="problem-grid">
        <div class="problem-card animate-on-scroll">
          <div class="problem-icon"><span class="material-icons">schedule</span></div>
          <h3>Нестача часу</h3>
          <p>Складні програми тренувань, які забирають багато часу та не підходять для зайнятих людей з сім'єю та роботою.</p>
        </div>
        <div class="problem-card animate-on-scroll">
          <div class="problem-icon"><span class="material-icons">restaurant</span></div>
          <h3>Жорсткі дієти</h3>
          <p>Виснажливі дієти, які вимагають відмови від улюблених страв та створюють постійний стрес.</p>
        </div>
        <div class="problem-card animate-on-scroll">
          <div class="problem-icon"><span class="material-icons">trending_down</span></div>
          <h3>Відсутність результатів</h3>
          <p>Багато хто здається, не бачачи швидкого прогресу та не розуміючи, чому програми не працюють.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Solution Section -->
  <section class="solution-section" id="solution">
    <div class="container">
      <div class="solution-content">
        <div class="solution-text animate-on-scroll">
          <h2>Мій підхід — це рішення</h2>
          <p>Я — Саша. Своє тіло я зробила без тренера, марафонів та жорстких дієт. Моя програма проста, ефективна та підходить для зайнятих людей.</p>
          <p>Тренування вдома або в залі, їжа — звичайна, без стресу. Результат, який ви отримаєте, буде стійким та приємним.</p>
          <a href="https://www.instagram.com/askimsport/" class="btn btn-secondary">Дізнатися більше</a>
        </div>
        <div class="solution-image animate-on-scroll">
          <img src="fitnestrainer.webp" alt="Фітнес тренер Саша">
        </div>
      </div>
    </div>
  </section>

  <!-- Process Section -->
  <section class="process-section" id="process">
    <div class="container">
      <div class="section-header animate-on-scroll">
        <h2 class="section-title">Як це працює</h2>
        <p class="section-subtitle">Простий 3-кроковий процес до вашого ідеального тіла</p>
      </div>
      <div class="process-steps">
        <div class="step animate-on-scroll">
          <div class="step-number">1</div>
          <h3>Консультація</h3>
          <p>Безкоштовна онлайн-консультація — визначаємо цілі та рівень підготовки. Розуміємо, що саме вам потрібно.</p>
        </div>
        <div class="step animate-on-scroll">
          <div class="step-number">2</div>
          <h3>Індивідуальний план</h3>
          <p>Створюємо персональний план тренувань та харчування без обмежень. Все підлаштовуємо під ваш ритм життя.</p>
        </div>
        <div class="step animate-on-scroll">
          <div class="step-number">3</div>
          <h3>Результат</h3>
          <p>Отримуєте сильне тіло, більше енергії та впевненість у собі. Результат, який залишиться з вами назавжди.</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: 3rem;">
        <a href="https://www.instagram.com/askimsport/" class="btn btn-primary">Почати зараз</a>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section" id="testimonials">
    <div class="container">
      <div class="section-header animate-on-scroll">
        <h2 class="section-title">Що кажуть мої клієнти</h2>
        <p class="section-subtitle">Реальні результати реальних людей</p>
      </div>
      <div class="testimonials-grid">
        <div class="testimonial animate-on-scroll">
          <p class="testimonial-text">"Нарешті знайшла програму, яка підходить моєму графіку. Тренуюсь вдома, їм улюблені страви, і бачу результат! Саша зрозуміла мої потреби з першого дня."</p>
          <p class="testimonial-author">— Оля, 28 років</p>
        </div>
        <div class="testimonial animate-on-scroll">
          <p class="testimonial-text">"Дякую, Саша! Тренування прості, але справді працюють. Почуваюся краще, ніж будь-коли. Нарешті не потрібно морити себе голодом."</p>
          <p class="testimonial-author">— Іра, 32 роки</p>
        </div>
        <div class="testimonial animate-on-scroll">
          <p class="testimonial-text">"Після трьох місяців роботи з Сашею я втратив 8 кг і набрав м'язову масу. Найголовніше — це стало частиною мого життя, а не тимчасовою дієтою."</p>
          <p class="testimonial-author">— Максим, 35 років</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Calculators Section -->
  <section class="calculators-section" id="calculators">
    <div class="container">
      <div class="section-header animate-on-scroll">
        <h2 class="section-title">Корисні калькулятори</h2>
        <p class="section-subtitle">Розрахуйте важливі показники для вашого здоров'я та фітнесу</p>
      </div>
      <div class="calculators-grid">
        <div class="calculator-card animate-on-scroll" onclick="openCalculator('water')">
          <div class="calculator-icon"><span class="material-icons">water_drop</span></div>
          <h3>Калькулятор води</h3>
          <p>Скільки води потрібно пити на день в залежності від ваги та активності</p>
          <div class="calculator-btn">Розрахувати</div>
        </div>
        <div class="calculator-card animate-on-scroll" onclick="openCalculator('weight')">
          <div class="calculator-icon"><span class="material-icons">monitor_weight</span></div>
          <h3>Ідеальна вага</h3>
          <p>Орієнтир ідеальної ваги для вашого зросту та типу статури</p>
          <div class="calculator-btn">Розрахувати</div>
        </div>
        <div class="calculator-card animate-on-scroll" onclick="openCalculator('timeline')">
          <div class="calculator-icon"><span class="material-icons">event</span></div>
          <h3>Днів до цілі</h3>
          <p>Скільки часу потрібно, щоб досягнути бажаної ваги за безпечним темпом</p>
          <div class="calculator-btn">Розрахувати</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section" id="contact">
    <div class="container">
      <div class="cta-content animate-on-scroll">
        <h2>Готові почати свій шлях до ідеального тіла?</h2>
        <p>Приєднуйтесь до сотень задоволених клієнтів, які вже досягли своїх цілей з ASKIMSPORT</p>
        <a href="https://www.instagram.com/askimsport/" class="btn btn-primary">Записатись на безкоштовну консультацію</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <p>© 2025 ASKIMSPORT — Зв'яжіться зі мною в <a href="https://www.instagram.com/askimsport/">Instagram</a></p>
      <p>Ваш тренер, ваш результат</p>
    </div>
  </footer>

  <!-- AI Chatbot -->
  <div class="chatbot-container">
    <button class="chatbot-toggle" id="chatbotToggle"></button>
    <div class="chatbot-window" id="chatbotWindow">
      <div class="chatbot-header">
        <div class="chatbot-title">Fit Mom 💪</div>
        <div class="chatbot-status" id="chatbotStatus" style="font-size: 0.8rem; opacity: 0.8;">Готовий</div>
        <button class="chatbot-close" id="chatbotClose">×</button>
      </div>
      <div class="chatbot-messages" id="chatbotMessages">
        <div class="message bot">
          Привіт! 👋 Я ваш онлайн фітнес-тренер Fit Mom! Готовий допомогти вам з цілями у спорті, дати поради з тренувань вдома, харчування та мотивувати! 😊<br><br>Напишіть <strong>СТАРТ</strong> 💪
        </div>
      </div>
      <div class="chatbot-input-container">
        <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Напишіть ваше питання...">
        <button class="chatbot-send" id="chatbotSend">Відправити</button>
      </div>
    </div>
  </div>

  <!-- Calculator Modals -->
  <div class="calculator-modal" id="calculatorModal">
    <div class="calculator-popup">
      <div class="calculator-header">
        <div class="calculator-title" id="modalTitle">
          <span id="modalIcon">💧</span>
          <span id="modalTitleText">Калькулятор води</span>
        </div>
        <button class="calculator-close" onclick="closeCalculator()">×</button>
      </div>
      
      <div class="calculator-form" id="calculatorForm">
        <!-- Form content will be dynamically inserted here -->
      </div>
      
      <div class="calculator-result" id="calculatorResult">
        <div class="result-title" id="resultTitle">Результат</div>
        <div class="result-value" id="resultValue">0</div>
        <div class="result-description" id="resultDescription">Опис результату</div>
        <div class="result-tips" id="resultTips">
          <h4>Корисні поради:</h4>
          <ul id="tipsList">
            <!-- Tips will be dynamically inserted here -->
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Load configuration from external file -->
  <script src="config.js"></script>
  <script>
    // ========================================
    // CONFIGURATION - API KEY IS NOW IN config.js
    // ========================================
    // The API key is now loaded from config.js file
    // Make sure to update config.js with your actual API key

    // ========================================
    // MAIN APPLICATION CODE
    // ========================================
    
    // Scroll progress indicator
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset;
      const docHeight = document.body.offsetHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      document.getElementById('scrollProgress').style.width = scrollPercent + '%';
    });

    // Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animated');
        }
      });
    }, observerOptions);

    // Observe all elements with animate-on-scroll class
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
      observer.observe(el);
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Navbar background on scroll
    window.addEventListener('scroll', () => {
      const navbar = document.querySelector('.navbar');
      if (window.scrollY > 100) {
        navbar.style.background = 'rgba(255, 255, 255, 0.98)';
        navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
      } else {
        navbar.style.background = 'rgba(255, 255, 255, 0.98)';
        navbar.style.boxShadow = '0 1px 3px 0 rgb(0 0 0 / 0.1)';
      }
    });

    // Mobile menu toggle (enhanced implementation)
    const mobileToggle = document.querySelector('.mobile-menu-toggle');
    const navLinks = document.querySelector('.nav-links');
    let isMobileMenuOpen = false;

    mobileToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleMobileMenu();
    });

    function toggleMobileMenu() {
      isMobileMenuOpen = !isMobileMenuOpen;
      
      if (isMobileMenuOpen) {
        navLinks.classList.add('mobile-open');
        mobileToggle.classList.add('active');
        mobileToggle.innerHTML = '✕';
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
      } else {
        closeMobileMenu();
      }
    }

    function closeMobileMenu() {
      isMobileMenuOpen = false;
      navLinks.classList.remove('mobile-open');
      mobileToggle.classList.remove('active');
      mobileToggle.innerHTML = '☰';
      document.body.style.overflow = ''; // Restore scrolling
    }

    // Close mobile menu when clicking on a link
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          closeMobileMenu();
        }
      });
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
      if (isMobileMenuOpen && !navLinks.contains(e.target) && !mobileToggle.contains(e.target)) {
        closeMobileMenu();
      }
    });

    // Handle window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768) {
        closeMobileMenu();
      }
    });

    // Close mobile menu on escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && isMobileMenuOpen) {
        closeMobileMenu();
      }
    });

    // Chatbot functionality
    class AskimFitChatbot {
      constructor() {
        this.apiKey = window.CHATBOT_CONFIG?.OPENAI_API_KEY;
        this.isOpen = false;
        this.messages = [];
        this.lastRequestTime = 0;
        this.requestCount = 0;
        this.requestTimes = []; // Track request times for minute-based limiting
        this.rateLimitDelay = window.CHATBOT_CONFIG?.RATE_LIMIT_DELAY || 5000;
        this.maxRetries = window.CHATBOT_CONFIG?.MAX_RETRIES || 3;
        this.retryDelay = window.CHATBOT_CONFIG?.RETRY_DELAY || 10000;
        this.maxRequestsPerMinute = window.CHATBOT_CONFIG?.MAX_REQUESTS_PER_MINUTE || 3;
        this.isProcessing = false; // Prevent multiple simultaneous requests
        
        // User data collection
        this.userProfile = {
          age: null,
          weight: null,
          activityLevel: null,
          fitnessLevel: null,
          goals: null,
          isComplete: false
        };
        this.dataCollectionStep = 0;
        this.isCollectingData = false;
        
        this.initializeElements();
        this.bindEvents();
        this.loadUserProfile();
      }

      initializeElements() {
        this.toggle = document.getElementById('chatbotToggle');
        this.window = document.getElementById('chatbotWindow');
        this.close = document.getElementById('chatbotClose');
        this.messagesContainer = document.getElementById('chatbotMessages');
        this.input = document.getElementById('chatbotInput');
        this.sendButton = document.getElementById('chatbotSend');
        this.statusElement = document.getElementById('chatbotStatus');
      }

      bindEvents() {
        this.toggle.addEventListener('click', () => this.toggleChat());
        this.close.addEventListener('click', () => this.closeChat());
        this.sendButton.addEventListener('click', () => this.sendMessage());
        this.input.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            this.sendMessage();
          }
        });

        // Close chat when clicking outside
        document.addEventListener('click', (e) => {
          if (this.isOpen && !this.window.contains(e.target) && !this.toggle.contains(e.target)) {
            this.closeChat();
          }
        });
      }

      toggleChat() {
        if (this.isOpen) {
          this.closeChat();
        } else {
          this.openChat();
        }
      }

      openChat() {
        this.window.classList.add('open');
        this.isOpen = true;
        this.input.focus();
      }

      closeChat() {
        this.window.classList.remove('open');
        this.isOpen = false;
      }

      async sendMessage() {
        const message = this.input.value.trim();
        if (!message) return;

        // Check if API key is set
        if (!this.apiKey || this.apiKey === 'your_openai_api_key_here') {
          this.addMessage('bot', 'Будь ласка, встановіть API ключ OpenAI в файлі config.js. Замініть "your_openai_api_key_here" на ваш справжній ключ.');
          this.input.value = '';
          return;
        }

        // Handle data collection
        if (this.isCollectingData) {
          this.addMessage('user', message);
          this.input.value = '';
          this.processDataCollectionInput(message);
          return;
        }

        // Handle special commands
        if (message.toLowerCase() === 'старт' || message.toLowerCase() === 'start') {
          this.addMessage('user', message);
          this.input.value = '';
          this.startDataCollection();
          return;
        }

        if (message.toLowerCase() === 'профіль' || message.toLowerCase() === 'profile') {
          this.addMessage('user', message);
          this.input.value = '';
          if (this.userProfile.isComplete) {
            const profile = this.userProfile;
            this.addMessage('bot', `📊 Ваш профіль:\n\nВік: ${profile.age} років\nВага: ${profile.weight} кг\nАктивність: ${this.getActivityLevelText(profile.activityLevel)}\nРівень фітнесу: ${this.getFitnessLevelText(profile.fitnessLevel)}\nЦілі: ${this.getGoalsText(profile.goals)}\n\nЩо вас цікавить?`);
          } else {
            this.addMessage('bot', 'Профіль ще не створено. Напишіть "СТАРТ" для створення профілю!');
          }
          return;
        }

        if (message.toLowerCase() === 'очистити' || message.toLowerCase() === 'clear') {
          this.addMessage('user', message);
          this.input.value = '';
          this.clearUserProfile();
          return;
        }

        // Prevent multiple simultaneous requests
        if (this.isProcessing) {
          this.addMessage('bot', 'Зачекайте, будь ласка. Обробляю попередній запит...');
          this.input.value = '';
          return;
        }

        // Enhanced rate limiting checks
        const now = Date.now();
        const timeSinceLastRequest = now - this.lastRequestTime;
        
        // Check minimum delay between requests
        if (timeSinceLastRequest < this.rateLimitDelay) {
          const waitTime = Math.ceil((this.rateLimitDelay - timeSinceLastRequest) / 1000);
          this.addMessage('bot', `⏰ Будь ласка, зачекайте ${waitTime} секунд перед наступним запитом. Це допомагає уникнути перевантаження сервера.`);
          this.input.value = '';
          return;
        }

        // Check requests per minute limit
        const oneMinuteAgo = now - 60000;
        this.requestTimes = this.requestTimes.filter(time => time > oneMinuteAgo);
        
        if (this.requestTimes.length >= this.maxRequestsPerMinute) {
          const oldestRequest = Math.min(...this.requestTimes);
          const waitTime = Math.ceil((oldestRequest + 60000 - now) / 1000);
          this.addMessage('bot', `🚫 Досягнуто ліміт запитів (${this.maxRequestsPerMinute} на хвилину). Зачекайте ${waitTime} секунд.`);
          this.input.value = '';
          return;
        }

        // Add user message
        this.addMessage('user', message);
        this.input.value = '';
        this.sendButton.disabled = true;
        this.isProcessing = true;
        this.lastRequestTime = now;
        this.requestTimes.push(now);

        // Update status
        this.updateStatus('Обробляю запит...', '#ff8c42');

        // Show typing indicator
        const typingMessage = this.addMessage('typing', 'Думаю...');

        try {
          const response = await this.getAIResponseWithRetry(message);
          this.removeMessage(typingMessage);
          this.addMessage('bot', response);
          this.updateStatus('Готовий', 'white');
        } catch (error) {
          this.removeMessage(typingMessage);
          
          // Handle specific error types
          if (error.message.includes('429')) {
            this.addMessage('bot', '🚫 Забагато запитів зараз! OpenAI тимчасово обмежив доступ. Спробуйте через 1-2 хвилини. Я автоматично збільшив затримку між запитами.');
            this.rateLimitDelay = Math.min(this.rateLimitDelay * 2, 30000); // Increase delay up to 30 seconds
            this.maxRequestsPerMinute = Math.max(1, this.maxRequestsPerMinute - 1); // Reduce requests per minute
            this.updateStatus('Обмеження швидкості', '#ff6b35');
          } else if (error.message.includes('401')) {
            this.addMessage('bot', '🔑 Проблема з API ключем. Перевірте правильність ключа в файлі config.js.');
            this.updateStatus('Помилка API', '#ff6b35');
          } else if (error.message.includes('500')) {
            this.addMessage('bot', '🔧 Сервер OpenAI тимчасово недоступний. Спробуйте пізніше!');
            this.updateStatus('Сервер недоступний', '#ff6b35');
          } else {
            this.addMessage('bot', '❌ Вибачте, виникла помилка при обробці вашого запиту. Спробуйте ще раз.');
            this.updateStatus('Помилка', '#ff6b35');
          }
          
          console.error('Chatbot error:', error);
        } finally {
          this.sendButton.disabled = false;
          this.isProcessing = false;
        }
      }

      async getAIResponseWithRetry(message, retryCount = 0) {
        try {
          return await this.getAIResponse(message);
        } catch (error) {
          if (retryCount < this.maxRetries && error.message.includes('429')) {
            // Wait before retrying with exponential backoff
            const waitTime = this.retryDelay * Math.pow(2, retryCount);
            console.log(`Rate limited. Retrying in ${waitTime/1000} seconds... (attempt ${retryCount + 1}/${this.maxRetries})`);
            await new Promise(resolve => setTimeout(resolve, waitTime));
            return this.getAIResponseWithRetry(message, retryCount + 1);
          }
          throw error;
        }
      }

      async getAIResponse(message) {
        let systemPrompt = `Ти — онлайн фітнес-тренер Fit Mom Living. Твоя місія: допомагати користувачам визначати їхні цілі у спорті, давати базові поради (вправи вдома, харчування, режим дня), мотивувати і пропонувати приєднатись до персональної програми. Ти завжди відповідаєш доброзичливо, просто, з емодзі. Уникай медичних порад — лише загальні рекомендації для здорових людей. Якщо клієнт пише про серйозні проблеми зі здоров'ям, порадь звернутись до лікаря.`;

        // Add user profile information if available
        if (this.userProfile.isComplete) {
          const profile = this.userProfile;
          systemPrompt += `\n\nІНФОРМАЦІЯ ПРО КОРИСТУВАЧА:
- Вік: ${profile.age} років
- Вага: ${profile.weight} кг
- Рівень активності: ${this.getActivityLevelText(profile.activityLevel)}
- Рівень фітнесу: ${this.getFitnessLevelText(profile.fitnessLevel)}
- Цілі: ${this.getGoalsText(profile.goals)}

Використовуй цю інформацію для персоналізованих порад. Враховуй вік, вагу та рівень підготовки при рекомендаціях вправ та харчування.`;
        }

        systemPrompt += `\n\nВ кінці кожної розмови роби м'який CTA: 'Хочеш індивідуальний план від мене — напиши слово СТАРТ'.`;

        const response = await fetch('https://api.openai.com/v1/chat/completions', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${this.apiKey}`
          },
          body: JSON.stringify({
            model: window.CHATBOT_CONFIG?.MODEL || 'gpt-3.5-turbo',
            messages: [
              { role: 'system', content: systemPrompt },
              ...this.messages,
              { role: 'user', content: message }
            ],
            max_tokens: window.CHATBOT_CONFIG?.MAX_TOKENS || 500,
            temperature: window.CHATBOT_CONFIG?.TEMPERATURE || 0.7
          })
        });

        if (!response.ok) {
          throw new Error(`API request failed: ${response.status}`);
        }

        const data = await response.json();
        return data.choices[0].message.content;
      }

      addMessage(type, content) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${type}`;
        messageDiv.textContent = content;
        
        this.messagesContainer.appendChild(messageDiv);
        this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;
        
        // Store message for context (only user and bot messages)
        if (type === 'user' || type === 'bot') {
          this.messages.push({ role: type === 'user' ? 'user' : 'assistant', content });
          
          // Keep only last 10 messages to avoid token limit
          if (this.messages.length > 10) {
            this.messages = this.messages.slice(-10);
          }
        }
        
        return messageDiv;
      }

      removeMessage(messageElement) {
        if (messageElement && messageElement.parentNode) {
          messageElement.parentNode.removeChild(messageElement);
        }
      }

      setApiKey(apiKey) {
        this.apiKey = apiKey;
      }

      updateStatus(message, color = 'white') {
        if (this.statusElement) {
          this.statusElement.textContent = message;
          this.statusElement.style.color = color;
        }
      }

      // Data collection methods
      startDataCollection() {
        this.isCollectingData = true;
        this.dataCollectionStep = 0;
        this.userProfile = {
          age: null,
          weight: null,
          activityLevel: null,
          fitnessLevel: null,
          goals: null,
          isComplete: false
        };
        this.askForAge();
      }

      askForAge() {
        this.addMessage('bot', '📊 Для більш персоналізованих порад, давайте зберемо трохи інформації про вас!\n\nСкільки вам років?');
        this.dataCollectionStep = 1;
      }

      askForWeight() {
        this.addMessage('bot', '⚖🍽️ Дякую! Тепер скажіть, будь ласка, вашу вагу (в кілограмах)?');
        this.dataCollectionStep = 2;
      }

      askForActivityLevel() {
        this.addMessage('bot', '🏃‍♀🍽️ Чудово! Як би ви оцінили свій рівень активності?\n\n1🍽️⃣ Малорухливий (сидяча робота, мало спорту)\n2🍽️⃣ Помірно активний (легкі прогулянки, тренування 1-2 рази на тиждень)\n3🍽️⃣ Активний (регулярні тренування 3-4 рази на тиждень)\n4🍽️⃣ Дуже активний (інтенсивні тренування 5+ разів на тиждень)\n\nВиберіть цифру від 1 до 4:');
        this.dataCollectionStep = 3;
      }

      askForFitnessLevel() {
        this.addMessage('bot', '💪 Відмінно! Тепер оцініть свій рівень фізичної підготовки:\n\n1🍽️⃣ Початківець (тільки починаю займатися спортом)\n2🍽️⃣ Нижче середнього (маю базові навички)\n3🍽️⃣ Середній (можу виконувати складніші вправи)\n4🍽️⃣ Вище середнього (досвідчений у спорті)\n5🍽️⃣ Просунутий (професійний рівень)\n\nВиберіть цифру від 1 до 5:');
        this.dataCollectionStep = 4;
      }

      askForGoals() {
        this.addMessage('bot', '🎯 Останнє питання! Які у вас основні цілі?\n\n1🍽️⃣ Схуднути\n2🍽️⃣ Набрати м\'язову масу\n3🍽️⃣ Підтримувати форму\n4🍽️⃣ Покращити витривалість\n5🍽️⃣ Зміцнити м\'язи\n6🍽️⃣ Всі вище перелічені\n\nВиберіть цифру або опишіть свої цілі:');
        this.dataCollectionStep = 5;
      }

      completeDataCollection() {
        this.userProfile.isComplete = true;
        this.isCollectingData = false;
        this.dataCollectionStep = 0;
        this.saveUserProfile(); // Save to localStorage
        
        const profile = this.userProfile;
        this.addMessage('bot', `🎉 Дякую за інформацію! Ось ваш профіль:\n\n📊 Вік: ${profile.age} років\n⚖🍽️ Вага: ${profile.weight} кг\n🏃‍♀🍽️ Активність: ${this.getActivityLevelText(profile.activityLevel)}\n💪 Рівень фітнесу: ${this.getFitnessLevelText(profile.fitnessLevel)}\n🎯 Цілі: ${this.getGoalsText(profile.goals)}\n\nТепер я можу давати вам більш персоналізовані поради! Що вас цікавить?`);
      }

      getActivityLevelText(level) {
        const levels = {
          1: 'Малорухливий',
          2: 'Помірно активний', 
          3: 'Активний',
          4: 'Дуже активний'
        };
        return levels[level] || 'Не вказано';
      }

      getFitnessLevelText(level) {
        const levels = {
          1: 'Початківець',
          2: 'Нижче середнього',
          3: 'Середній',
          4: 'Вище середнього',
          5: 'Просунутий'
        };
        return levels[level] || 'Не вказано';
      }

      getGoalsText(goals) {
        const goalTexts = {
          1: 'Схуднути',
          2: 'Набрати м\'язову масу',
          3: 'Підтримувати форму',
          4: 'Покращити витривалість',
          5: 'Зміцнити м\'язи',
          6: 'Всі цілі'
        };
        return goalTexts[goals] || goals || 'Не вказано';
      }

      processDataCollectionInput(message) {
        const step = this.dataCollectionStep;
        
        switch(step) {
          case 1: // Age
            const age = parseInt(message);
            if (age && age > 0 && age < 120) {
              this.userProfile.age = age;
              this.askForWeight();
            } else {
              this.addMessage('bot', 'Будь ласка, введіть правильний вік (число від 1 до 120):');
            }
            break;
            
          case 2: // Weight
            const weight = parseFloat(message);
            if (weight && weight > 20 && weight < 300) {
              this.userProfile.weight = weight;
              this.askForActivityLevel();
            } else {
              this.addMessage('bot', 'Будь ласка, введіть правильну вагу (число від 20 до 300 кг):');
            }
            break;
            
          case 3: // Activity Level
            const activityLevel = parseInt(message);
            if (activityLevel >= 1 && activityLevel <= 4) {
              this.userProfile.activityLevel = activityLevel;
              this.askForFitnessLevel();
            } else {
              this.addMessage('bot', 'Будь ласка, виберіть цифру від 1 до 4:');
            }
            break;
            
          case 4: // Fitness Level
            const fitnessLevel = parseInt(message);
            if (fitnessLevel >= 1 && fitnessLevel <= 5) {
              this.userProfile.fitnessLevel = fitnessLevel;
              this.askForGoals();
            } else {
              this.addMessage('bot', 'Будь ласка, виберіть цифру від 1 до 5:');
            }
            break;
            
          case 5: // Goals
            const goals = parseInt(message);
            if (goals >= 1 && goals <= 6) {
              this.userProfile.goals = goals;
            } else {
              this.userProfile.goals = message; // Store custom text
            }
            this.completeDataCollection();
            break;
        }
      }

      // Local storage methods
      saveUserProfile() {
        try {
          localStorage.setItem('askimFitUserProfile', JSON.stringify(this.userProfile));
        } catch (error) {
          console.log('Could not save user profile:', error);
        }
      }

      loadUserProfile() {
        try {
          const saved = localStorage.getItem('askimFitUserProfile');
          if (saved) {
            this.userProfile = JSON.parse(saved);
            if (this.userProfile.isComplete) {
              console.log('User profile loaded from storage');
            }
          }
        } catch (error) {
          console.log('Could not load user profile:', error);
        }
      }

      clearUserProfile() {
        this.userProfile = {
          age: null,
          weight: null,
          activityLevel: null,
          fitnessLevel: null,
          goals: null,
          isComplete: false
        };
        localStorage.removeItem('askimFitUserProfile');
        this.addMessage('bot', 'Профіль очищено! Напишіть "СТАРТ" для створення нового профілю.');
      }
    }

    // ========================================
    // FITNESS CALCULATORS
    // ========================================
    
    function openCalculator(type) {
      const modal = document.getElementById('calculatorModal');
      const modalIcon = document.getElementById('modalIcon');
      const modalTitle = document.getElementById('modalTitleText');
      const form = document.getElementById('calculatorForm');
      const result = document.getElementById('calculatorResult');
      
      // Hide result initially
      result.classList.remove('show');
      
      // Set modal content based on calculator type
      switch(type) {
        case 'water':
          modalIcon.innerHTML = '<span class="material-icons">water_drop</span>';
          modalTitle.textContent = 'Калькулятор води';
          form.innerHTML = `
            <div class="form-group">
              <label for="weight">Ваша вага (кг):</label>
              <input type="number" id="weight" placeholder="Наприклад: 70" min="20" max="300" required>
            </div>
            <div class="form-group">
              <label for="activity">Рівень активності:</label>
              <select id="activity" required>
                <option value="">Оберіть рівень</option>
                <option value="low">Малорухливий (сидяча робота)</option>
                <option value="moderate">Помірно активний (легкі прогулянки)</option>
                <option value="active">Активний (регулярні тренування)</option>
                <option value="very-active">Дуже активний (інтенсивні тренування)</option>
              </select>
            </div>
            <button class="calculate-btn" onclick="calculateWater()">Розрахувати</button>
          `;
          break;
          
        case 'weight':
          modalIcon.innerHTML = '<span class="material-icons">monitor_weight</span>';
          modalTitle.textContent = 'Калькулятор ідеальної ваги';
          form.innerHTML = `
            <div class="form-group">
              <label for="height">Ваш зріст (см):</label>
              <input type="number" id="height" placeholder="Наприклад: 170" min="100" max="250" required>
            </div>
            <div class="form-group">
              <label for="gender">Стать:</label>
              <select id="gender" required>
                <option value="">Оберіть стать</option>
                <option value="male">Чоловік</option>
                <option value="female">Жінка</option>
              </select>
            </div>
            <div class="form-group">
              <label for="bodyType">Тип статури:</label>
              <select id="bodyType" required>
                <option value="">Оберіть тип</option>
                <option value="small">Тонка статура</option>
                <option value="medium">Середня статура</option>
                <option value="large">Широка статура</option>
              </select>
            </div>
            <button class="calculate-btn" onclick="calculateIdealWeight()">Розрахувати</button>
          `;
          break;
          
        case 'timeline':
          modalIcon.innerHTML = '<span class="material-icons">event</span>';
          modalTitle.textContent = 'Калькулятор днів до цілі';
          form.innerHTML = `
            <div class="form-group">
              <label for="currentWeight">Поточна вага (кг):</label>
              <input type="number" id="currentWeight" placeholder="Наприклад: 80" min="20" max="300" required>
            </div>
            <div class="form-group">
              <label for="targetWeight">Бажана вага (кг):</label>
              <input type="number" id="targetWeight" placeholder="Наприклад: 70" min="20" max="300" required>
            </div>
            <div class="form-group">
              <label for="weightLossRate">Темп схуднення:</label>
              <select id="weightLossRate" required>
                <option value="0.25">0.25 кг/тиждень (повільний)</option>
                <option value="0.5" selected>0.5 кг/тиждень (рекомендований)</option>
                <option value="0.75">0.75 кг/тиждень (швидкий)</option>
                <option value="1">1 кг/тиждень (дуже швидкий)</option>
              </select>
            </div>
            <button class="calculate-btn" onclick="calculateTimeline()">Розрахувати</button>
          `;
          break;
      }
      
      modal.classList.add('open');
    }
    
    function closeCalculator() {
      const modal = document.getElementById('calculatorModal');
      modal.classList.remove('open');
    }
    
    // Close modal when clicking outside
    document.getElementById('calculatorModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeCalculator();
      }
    });
    
    function calculateWater() {
      const weight = parseFloat(document.getElementById('weight').value);
      const activity = document.getElementById('activity').value;
      
      if (!weight || !activity) {
        alert('Будь ласка, заповніть всі поля');
        return;
      }
      
      // Base water calculation: 35ml per kg of body weight
      let baseWater = weight * 35;
      
      // Activity multipliers
      const activityMultipliers = {
        'low': 1.0,
        'moderate': 1.2,
        'active': 1.4,
        'very-active': 1.6
      };
      
      const totalWater = Math.round(baseWater * activityMultipliers[activity]);
      const glasses = Math.round(totalWater / 250); // 250ml per glass
      
      const result = document.getElementById('calculatorResult');
      const resultTitle = document.getElementById('resultTitle');
      const resultValue = document.getElementById('resultValue');
      const resultDescription = document.getElementById('resultDescription');
      const tipsList = document.getElementById('tipsList');
      
      resultTitle.textContent = 'Рекомендована кількість води';
      resultValue.textContent = `${totalWater} мл (${glasses} склянок)`;
      resultDescription.textContent = `Для вашої ваги ${weight} кг та рівня активності "${activity}" рекомендовано випивати ${totalWater} мл води на день.`;
      
      tipsList.innerHTML = `
        <li>Почніть день зі склянки води натщесерце</li>
        <li>Пийте воду за 30 хвилин до їжі</li>
        <li>Не чекайте відчуття спраги</li>
        <li>Додайте лимон або м'яту для смаку</li>
        <li>Обмежте каву та алкоголь</li>
      `;
      
      result.classList.add('show');
    }
    
    function calculateIdealWeight() {
      const height = parseFloat(document.getElementById('height').value);
      const gender = document.getElementById('gender').value;
      const bodyType = document.getElementById('bodyType').value;
      
      if (!height || !gender || !bodyType) {
        alert('Будь ласка, заповніть всі поля');
        return;
      }
      
      // BMI-based ideal weight calculation
      let idealBMI;
      if (gender === 'male') {
        idealBMI = bodyType === 'small' ? 20 : bodyType === 'medium' ? 22 : 24;
      } else {
        idealBMI = bodyType === 'small' ? 18.5 : bodyType === 'medium' ? 21 : 23;
      }
      
      const idealWeight = Math.round((idealBMI * height * height) / 10000);
      const weightRange = {
        min: Math.round(idealWeight * 0.9),
        max: Math.round(idealWeight * 1.1)
      };
      
      const result = document.getElementById('calculatorResult');
      const resultTitle = document.getElementById('resultTitle');
      const resultValue = document.getElementById('resultValue');
      const resultDescription = document.getElementById('resultDescription');
      const tipsList = document.getElementById('tipsList');
      
      resultTitle.textContent = 'Ідеальна вага';
      resultValue.textContent = `${idealWeight} кг`;
      resultDescription.textContent = `Для зросту ${height} см, статі "${gender}" та типу статури "${bodyType}" ідеальна вага становить ${idealWeight} кг. Здоровий діапазон: ${weightRange.min}-${weightRange.max} кг.`;
      
      tipsList.innerHTML = `
        <li>Це орієнтовні значення, враховуйте індивідуальні особливості</li>
        <li>Консультуйтесь з лікарем перед зміною ваги</li>
        <li>Фокусуйтесь на здоров'ї, а не тільки на цифрах</li>
        <li>Враховуйте м'язову масу та жирові відкладення</li>
        <li>Регулярно контролюйте показники здоров'я</li>
      `;
      
      result.classList.add('show');
    }
    
    function calculateTimeline() {
      const currentWeight = parseFloat(document.getElementById('currentWeight').value);
      const targetWeight = parseFloat(document.getElementById('targetWeight').value);
      const weightLossRate = parseFloat(document.getElementById('weightLossRate').value);
      
      if (!currentWeight || !targetWeight || !weightLossRate) {
        alert('Будь ласка, заповніть всі поля');
        return;
      }
      
      if (targetWeight >= currentWeight) {
        alert('Бажана вага повинна бути меншою за поточну');
        return;
      }
      
      const weightToLose = currentWeight - targetWeight;
      const weeksNeeded = Math.ceil(weightToLose / weightLossRate);
      const monthsNeeded = Math.round(weeksNeeded / 4.33 * 10) / 10; // More precise month calculation
      const daysNeeded = weeksNeeded * 7;
      
      const result = document.getElementById('calculatorResult');
      const resultTitle = document.getElementById('resultTitle');
      const resultValue = document.getElementById('resultValue');
      const resultDescription = document.getElementById('resultDescription');
      const tipsList = document.getElementById('tipsList');
      
      resultTitle.textContent = 'Час досягнення цілі';
      resultValue.textContent = `${weeksNeeded} тижнів (${monthsNeeded} місяців)`;
      resultDescription.textContent = `Щоб схуднути з ${currentWeight} кг до ${targetWeight} кг (${weightToLose} кг) за темпом ${weightLossRate} кг/тиждень, потрібно ${weeksNeeded} тижнів.`;
      
      tipsList.innerHTML = `
        <li>Це орієнтовний час, індивідуальні результати можуть відрізнятися</li>
        <li>Поступове схуднення безпечніше для здоров'я</li>
        <li>Поєднуйте дієту з регулярними тренуваннями</li>
        <li>Ведіть щоденник харчування та ваги</li>
        <li>Консультуйтесь з фахівцями для індивідуального плану</li>
      `;
      
      result.classList.add('show');
    }

    // Initialize chatbot
    const chatbot = new AskimFitChatbot();

    // Function to set API key (to be called by user)
    window.setChatbotApiKey = function(apiKey) {
      chatbot.setApiKey(apiKey);
    };

    // Show instruction for API key
    console.log('Fit Mom Chatbot initialized!');
    console.log('To activate: Update your API key in config.js file');
    console.log('Replace "your_openai_api_key_here" with your actual OpenAI API key');
    console.log('Or call: setChatbotApiKey("your-openai-api-key")');
  </script>
</body>
</html>